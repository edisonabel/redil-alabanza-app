---
interface Props {
	titulo: string;
	cantante: string;
	tonalidad: string;
	bpm: number;
	linkLetra: string;
	linkAcordes: string;
	linkVoces: string;
	linkYoutube: string;
	categoria: string;
	voz: string;
	tema: string;
}

const { titulo, cantante, tonalidad, bpm, linkLetra, linkAcordes, linkVoces, linkYoutube, categoria, voz, tema } = Astro.props;
---

<article class="relative bg-neutral-900 border border-neutral-800 rounded-2xl hover:border-neutral-700 transition-all duration-300 shadow-xl hover:shadow-2xl overflow-hidden card-container"
         data-titulo={(titulo || '').toLowerCase()}
         data-cancion={titulo || ''}
         data-artista={(cantante || '').toLowerCase()}
         data-categoria={categoria || ''}
         data-tonalidad={tonalidad || ''}
         data-voz={voz || ''}
         data-tema={tema || ''}>
    <div class="card-header cursor-pointer relative z-10 flex flex-col pt-5 px-5 pb-5">
        <button class="btn-add-setlist absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white transition-colors" title="AÃ±adir a Setlist" data-cancion={titulo}>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
        </button>
        <h3 class="text-xl md:text-2xl font-bold tracking-tight mb-0.5 pr-12 transition-all card-title">{titulo}</h3>
        {cantante && <p class="text-sm font-medium text-neutral-500 mb-3 line-clamp-1 pr-12">{cantante}</p>}
        {!cantante && <div class="mb-3"></div>}
        <div class="flex flex-wrap gap-2 text-xs card-badges transition-all">
            <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-neutral-800 border border-neutral-700 text-neutral-300 tracking-wide">
                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1.5 text-neutral-400"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
                Key: {tonalidad || "-"}
            </span>
            <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-neutral-800 border border-neutral-700 text-neutral-300 tracking-wide">
                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1.5 text-neutral-400"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg>
                {bpm || 0} BPM
            </span>
            {voz && (
                <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-neutral-800 border border-neutral-700 text-neutral-300 tracking-wide badge-voz">
                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1.5 text-neutral-400"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22"></line></svg>
                    {voz}
                </span>
            )}
            {categoria && (
                <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-neutral-800 border border-neutral-700 text-neutral-300 tracking-wide badge-categoria">
                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1.5 text-neutral-400"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                    {categoria}
                </span>
            )}
        </div>
    </div>
    
    <div class="card-content transition-all duration-300 overflow-hidden px-5 pb-5">
        <div class="grid grid-cols-2 gap-3 mt-2">
            <a href={linkYoutube} 
               target="_blank" rel="noopener noreferrer"
               class="flex items-center justify-center py-2.5 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500/20 hover:text-red-400 transition-colors font-bold text-sm tracking-wide">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="none" class="mr-2"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon fill="white" stroke="none" points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
                YouTube
            </a>
            <a href={linkLetra} 
               target="_blank" rel="noopener noreferrer"
               class="flex items-center justify-center py-2.5 rounded-xl bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 hover:text-blue-300 transition-colors font-bold text-sm tracking-wide">
                Letra
            </a>
            <a href={linkAcordes} 
               target="_blank" rel="noopener noreferrer"
               class="flex items-center justify-center py-2.5 rounded-xl bg-green-500/10 text-green-400 hover:bg-green-500/20 hover:text-green-300 transition-colors font-bold text-sm tracking-wide">
                Acordes
            </a>
            <a href={linkVoces} 
               target="_blank" rel="noopener noreferrer"
               class="flex items-center justify-center py-2.5 rounded-xl bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 hover:text-purple-300 transition-colors font-bold text-sm tracking-wide">
                Voces
            </a>
        </div>
    </div>
</article>
